(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,a,t){},212:function(e,a,t){e.exports=t(331)},217:function(e,a,t){},218:function(e,a,t){},245:function(e,a,t){},247:function(e,a,t){},248:function(e,a,t){},249:function(e,a,t){},253:function(e,a){},255:function(e,a){},288:function(e,a){},289:function(e,a){},331:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(13),r=t.n(l),i=(t(217),t(29)),o=t(58),u=t(6),s=(t(218),t(21)),m=t.n(s),d="https://api.kbucard.com:9766/",g=t(384),f=t(109),E=t(336),v=t(333),_=t(332),b=t(364),h=t(363),p=function(e){var a=e.title,t=e.message,n=e.callback,l=c.a.useState(!0),r=Object(u.a)(l,2),i=r[0];r[1];return c.a.createElement("div",null,c.a.createElement(E.a,{open:i,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(h.a,{id:"alert-dialog-title"},a),c.a.createElement(_.a,null,c.a.createElement(b.a,{id:"alert-dialog-description"},t)),c.a.createElement(v.a,null,c.a.createElement(f.a,{onClick:n,color:"primary",autoFocus:!0},"\ub124"))))},O=t(44),j=t(366),k=t(370),N=t(369),w=t(365),S=t(367),I=t(368),y=t(359),C=(t(158),Object(O.a)({table:{minWidth:650}})),x=function(e){var a=e.infos,t=e.noLabelTapped,n=(e.turnOnExitTimeInput,e.selectInfoCell),l=C();return c.a.createElement(w.a,{component:y.a},c.a.createElement(j.a,{className:l.table,"aria-label":"simple table"},c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:t},"no"),c.a.createElement(N.a,{onClick:t,align:"right"},"\uc774\ub984"),c.a.createElement(N.a,{align:"right"},"\ud559\ubc88"),c.a.createElement(N.a,{align:"right"},"\uc804\uacf5"),c.a.createElement(N.a,{align:"right"},"\uc790\ub3d9/\uc218\ub3d9"),c.a.createElement(N.a,{align:"right"},"\uc811\uadfc \uc2dc\uac01"),c.a.createElement(N.a,{align:"right"},"\uc778\uc99d \uad00\ub9ac\uc790"),c.a.createElement(N.a,{align:"right"},"\uad00\ub9ac\uc790 \ubd80\uc11c"),c.a.createElement(N.a,{style:{width:"80px"},align:"right"},"\uc9d1\uacc4 \uc81c\uc678"))),c.a.createElement(k.a,null,a.map((function(e,t){return c.a.createElement(I.a,{onClick:function(){n(e)},key:t},c.a.createElement(N.a,{component:"th",scope:"row"},a.length-t),c.a.createElement(N.a,{align:"right"},e.user_name),c.a.createElement(N.a,{align:"right"},e.user_univ_id),c.a.createElement(N.a,{align:"right"},e.user_major),c.a.createElement(N.a,{align:"right"},e.is_manual?c.a.createElement("span",{className:"table__red_text"},"\uc218\ub3d9"):c.a.createElement("span",null,"\uc790\ub3d9")),c.a.createElement(N.a,{align:"right"},e.access_datetime),c.a.createElement(N.a,{align:"right"},e.admin_id),c.a.createElement(N.a,{align:"right"},e.admin_dept),c.a.createElement(N.a,{align:"right"},e.disabled_aggregate?c.a.createElement("img",{className:"checked_mark",src:"/checked.png"}):""))})))))};var D=function(e){var a=e.exitTimeString,t=e.handleExitTimeString,l=e.turnOfExitTimeInput,r=Object(n.useRef)(null);return function(e,a){function t(t){e.current&&!e.current.contains(t.target)&&a()}Object(n.useEffect)((function(){return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}))}(r,l),c.a.createElement("div",{className:"exittimeinput_container"},c.a.createElement("div",{ref:r},c.a.createElement("input",{onChange:t,value:a,type:"text"}),c.a.createElement("button",null,"\ubcc0\uacbd")))},T=t(107);var M=function(e){var a=e.datas,t=e.turnOffExcelDownView,l=Object(n.useState)([]),r=Object(u.a)(l,2),i=r[0],o=r[1];Object(n.useEffect)((function(){var e=a.map((function(e){return{access_id:"\ufeff".concat(e.access_id),access_datetime:"\ufeff".concat(e.access_datetime),created_datetime:"\ufeff".concat(e.created_datetime),updated_datetime:"\ufeff".concat(e.updated_datetime),disabled_aggregate:"".concat(e.disabled_aggregate?"\ufeff\uc9d1\uacc4\uc81c\uc678":"\ufeff\uc9d1\uacc4\ud3ec\ud568"),user_name:"\ufeff".concat(e.user_name),user_major:"\ufeff".concat(e.user_major),user_univ_id:"\ufeff".concat(e.user_univ_id),admin_id:"\ufeff".concat(e.admin_id),admin_dept:"\ufeff".concat(e.admin_dept),is_manual:"".concat(e.is_manual?"\ufeff\uc218\ub3d9":"\ufeff\uc790\ub3d9"),ip_addr:"\ufeff".concat(e.ip_addr)}}));o(e)}),[]);var s=Object(n.useRef)(null);!function(e,a){function t(t){e.current&&!e.current.contains(t.target)&&a()}Object(n.useEffect)((function(){return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}))}(s,t);return c.a.createElement("div",{className:"excel_down_container"},c.a.createElement("div",{ref:s,className:"card"},0!==i.length&&c.a.createElement(T.JsonToExcel,{data:i,className:"class-name-for-style",filename:"Excel-file",fields:{access_id:"\ufeffNo",access_datetime:"\ufeff\uc811\uadfc \uc2dc\uac01",created_datetime:"\ufeff\ub370\uc774\ud130 \uc0dd\uc131\uc2dc\uac01",updated_datetime:"\ufeff\ub370\uc774\ud130 \uc5c5\ub370\uc774\ud2b8\uc2dc\uac01",disabled_aggregate:"\ufeff\uc9d1\uacc4 \uc81c\uc678",user_name:"\ufeff\uc774\ub984",user_major:"\ufeff\ud559\ubd80",user_univ_id:"\ufeff\ud559\ubc88",admin_id:"\ufeff\uc778\uc99d \uad00\ub9ac\uc790",admin_dept:"\ufeff\uad00\ub9ac\uc790 \ubd80\uc11c",is_manual:"\ufeff\uc790\ub3d9/\uc218\ub3d9",ip_addr:"\ufeff\uc778\uc99d ip"},style:{padding:"5px"}})))},A=t(371),L=t(68),F=t(19),W=t(372),z=t(137),Y=t(383),B=t(380),P=t(376),K=t(377),R=Object(O.a)({table:{minWidth:650}}),J=function(e){var a=e.infos,t=e.noLabelTapped,n=(e.turnOnExitTimeInput,R());return c.a.createElement(w.a,{component:y.a},c.a.createElement(j.a,{className:n.table,"aria-label":"simple table"},c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement(N.a,{onClick:t},"no"),c.a.createElement(N.a,{onClick:t,align:"right"},"\uc774\ub984"),c.a.createElement(N.a,{align:"right"},"\ud559\ubc88"),c.a.createElement(N.a,{align:"right"},"\uc804\uacf5"),c.a.createElement(N.a,{align:"right"},"\uc790\ub3d9/\uc218\ub3d9"),c.a.createElement(N.a,{align:"right"},"\uc811\uadfc \uc2dc\uac01"),c.a.createElement(N.a,{align:"right"},"\uc778\uc99d \uad00\ub9ac\uc790"),c.a.createElement(N.a,{align:"right"},"\uad00\ub9ac\uc790 \ubd80\uc11c"),c.a.createElement(N.a,{align:"right"},"\uc778\uc99d \uacbd\uacfc\uc2dc\uac04"))),c.a.createElement(k.a,null,a.map((function(e,t){return c.a.createElement(I.a,{key:t},c.a.createElement(N.a,{component:"th",scope:"row"},a.length-t),c.a.createElement(N.a,{align:"right"},e.user_name),c.a.createElement(N.a,{align:"right"},e.user_univ_id),c.a.createElement(N.a,{align:"right"},e.user_major),c.a.createElement(N.a,{align:"right"},e.is_manual?c.a.createElement("span",{className:"table__red_text"},"\uc218\ub3d9"):c.a.createElement("span",null,"\uc790\ub3d9")),c.a.createElement(N.a,{align:"right"},e.access_datetime),c.a.createElement(N.a,{align:"right"},e.admin_id),c.a.createElement(N.a,{align:"right"},e.admin_dept),c.a.createElement(N.a,{align:"right"},function(e){var a=new Date,t=new Date(e),n=Math.abs(a.getTime()-t.getTime()),c=Math.floor(n/6e4);return"".concat(c,"\ubd84")}(e.access_datetime)))})))))},V=(t(245),Object(O.a)({table:{minWidth:650}}));var H,$,q,G,Q,U=function(e){var a=e.info,t=e.unSelectInfoCell,l=e.changeAggregateOfInfo,r=V(),i=Object(n.useRef)(null);!function(e,a){Object(n.useEffect)((function(){function t(t){e.current&&!e.current.contains(t.target)&&a()}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e])}(i,t);var o=Object(n.useState)(a),s=Object(u.a)(o,2),g=s[0],f=s[1];return c.a.createElement("div",{className:"SelectedInfoCell"},c.a.createElement("div",{ref:i,className:"container"},c.a.createElement("div",{className:"top_table"},c.a.createElement(w.a,{component:y.a},c.a.createElement(j.a,{className:r.table,"aria-label":"simple table"},c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement(N.a,null,"\uc774\ub984"),c.a.createElement(N.a,{align:"right"},"\ud559\ubc88"),c.a.createElement(N.a,{align:"right"},"\uc804\uacf5"),c.a.createElement(N.a,{align:"right"},"\uc790\ub3d9/\uc218\ub3d9"),c.a.createElement(N.a,{align:"right"},"\uc811\uadfc \uc2dc\uac01"),c.a.createElement(N.a,{align:"right"},"\uc778\uc99d \uad00\ub9ac\uc790"),c.a.createElement(N.a,{align:"right"},"\uad00\ub9ac\uc790 \ubd80\uc11c"),c.a.createElement(N.a,{align:"right"},"\ub370\uc774\ud130 \uc0dd\uc131\uc2dc\uac01"),c.a.createElement(N.a,{align:"right"},"\ub370\uc774\ud130 \uc5c5\ub370\uc774\ud2b8\uc2dc\uac01"),c.a.createElement(N.a,{align:"right"},"\uc778\uc99d IP"),c.a.createElement(N.a,{align:"right"},"\uc9d1\uacc4\uc81c\uc678"))),c.a.createElement(k.a,null,c.a.createElement(I.a,{key:g.access_id},c.a.createElement(N.a,{component:"th",scope:"row"},g.user_name),c.a.createElement(N.a,{align:"right"},g.user_univ_id),c.a.createElement(N.a,{align:"right"},g.user_major),c.a.createElement(N.a,{align:"right"},g.is_manual?c.a.createElement("span",{className:"table__red_text"},"\uc218\ub3d9"):c.a.createElement("span",null,"\uc790\ub3d9")),c.a.createElement(N.a,{align:"right"},g.access_datetime),c.a.createElement(N.a,{align:"right"},g.admin_id),c.a.createElement(N.a,{align:"right"},g.admin_dept),c.a.createElement(N.a,{align:"right"},g.created_datetime),c.a.createElement(N.a,{align:"right"},g.updated_datetime),c.a.createElement(N.a,{align:"right"},g.ip_addr),c.a.createElement(N.a,{align:"right"},g.disabled_aggregate?c.a.createElement("img",{className:"checked_mark",src:"/checked.png"}):"")))))),c.a.createElement("div",{className:"aggregate__toggle__button__container"},g.disabled_aggregate?c.a.createElement("button",{onClick:function(){window.confirm("\uc815\ub9d0 \ud574\ub2f9 \ub370\uc774\ud130\ub97c \uc9d1\uacc4\ub370\uc774\ud130\uc5d0 \ucd94\uac00\uc2dc\ud0a4\uaca0\uc2b5\ub2c8\uae4c?")&&m.a.patch("".concat(d,"msc/log"),{access_id:a.access_id,disabled_aggregate:!1},{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){if(204===e.status){l(a.access_id);var t=g;t.disabled_aggregate=!1,f(t)}})).catch((function(e){console.log(e),alert("\uc5d0\ub7ec\ubc1c\uc0dd")}))}},"\uc9d1\uacc4\uc81c\uc678\ud574\uc81c"):c.a.createElement("button",{onClick:function(){window.confirm("\uc815\ub9d0 \ud574\ub2f9 \ub370\uc774\ud130\ub97c \uc9d1\uacc4\ub370\uc774\ud130\uc5d0\uc11c \uc81c\uc678\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(console.log("\uc9d1\uacc4\ub370\uc774\ud130 \uc81c\uc678"),m.a.patch("".concat(d,"msc/log"),{access_id:a.access_id,disabled_aggregate:!0},{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){if(204===e.status){l(a.access_id);var t=g;t.disabled_aggregate=!0,f(t)}})).catch((function(e){console.log(e),alert("\uc5d0\ub7ec\ubc1c\uc0dd")})))}},"\uc9d1\uacc4\uc81c\uc678"))))},X=Object(O.a)((function(e){return Object(z.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})})),Z=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)([]),o=Object(u.a)(r,2),s=o[0],E=o[1],v=Object(n.useState)([]),_=Object(u.a)(v,2),b=_[0],h=_[1],O=Object(n.useState)(!1),j=Object(u.a)(O,2),k=j[0],N=j[1],w=Object(n.useState)(""),S=Object(u.a)(w,2),I=S[0],y=S[1],C=Object(n.useState)(""),T=Object(u.a)(C,2),z=T[0],R=T[1],V=Object(n.useState)(!1),Z=Object(u.a)(V,2),ee=Z[0],ae=Z[1],te=Object(n.useState)(!0),ne=Object(u.a)(te,2),ce=ne[0],le=ne[1],re=Object(n.useState)(!1),ie=Object(u.a)(re,2),oe=ie[0],ue=ie[1],se=Object(n.useState)(""),me=Object(u.a)(se,2),de=me[0],ge=me[1],fe=Object(n.useState)(!1),Ee=Object(u.a)(fe,2),ve=Ee[0],_e=Ee[1],be=c.a.useState(new Date),he=Object(u.a)(be,2),pe=he[0],Oe=he[1],je=Object(n.useState)(new Date),ke=Object(u.a)(je,2),Ne=ke[0],we=ke[1],Se=Object(n.useState)(!1),Ie=Object(u.a)(Se,2),ye=Ie[0],Ce=Ie[1],xe=X(),De=c.a.useState(""),Te=Object(u.a)(De,2),Me=Te[0],Ae=Te[1],Le=Object(n.useState)(),Fe=Object(u.a)(Le,2),We=Fe[0],ze=Fe[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("i"),a=localStorage.getItem("p");return e&&a?m.a.post("".concat(d,"auth/admin-login"),{id:e,pw:a}).then((function(t){if(200===t.status){localStorage.setItem("i",e),localStorage.setItem("p",a);var n=t.headers.authorization;n?(localStorage.setItem("token",n),He(),$=setInterval((function(){He()}),3e3),Ne&&pe&&Be(pe,Ne),document.getElementById("date-picker-inline").readOnly=!0):alert("\uc798\ubabb\ub41c \uacc4\uc815 \uc815\ubcf4")}})).catch((function(e){console.error(e),alert(e)})):Ge(),q="",G="",function(){clearInterval(H),clearInterval($)}}),[]),c.a.createElement("div",{className:"private__main__container"},c.a.createElement("div",{className:"navigation__bar"},c.a.createElement("div",{className:"button active"},"\uc870\ud68c"),c.a.createElement(i.b,{to:"/aggregate",style:{textDecoration:"none",color:"black"}},c.a.createElement("div",{className:"button"},"\uc9d1\uacc4")),c.a.createElement(i.b,{to:"/post",style:{textDecoration:"none",color:"black"}},c.a.createElement("div",{className:"button"},"\ucd94\uac00")),c.a.createElement("button",{onClick:Ge},"\ub85c\uadf8\uc544\uc6c3")),c.a.createElement("div",{className:"toolbar__view__container"},c.a.createElement("div",{className:"toolbars_container"},c.a.createElement(F.a,{utils:L.a},c.a.createElement(A.a,{className:"grid",container:!0,justify:"space-around"},c.a.createElement(W.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"\uac80\uc0c9 \uc2dc\uc791\uc77c",value:pe,onChange:function(e){clearInterval(H),Oe(e),e&&Ne&&(ye?(clearInterval(H),$e(e,Ne),H=setInterval((function(){$e(e,Ne)}),3e3)):Be(e,Ne))},KeyboardButtonProps:{"aria-label":"change date"}}),c.a.createElement(W.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"\uac80\uc0c9 \ub9c8\uc9c0\ub9c9\uc77c",value:Ne,onChange:function(e){clearInterval(H),we(e),pe&&e&&(ye?(clearInterval(H),$e(pe,e),H=setInterval((function(){$e(pe,e)}),3e3)):Be(pe,e))},KeyboardButtonProps:{"aria-label":"change date"}}),c.a.createElement(g.a,{id:"standard-basic",className:"standard-basic",label:"\uac80\uc0c9",variant:"standard",onChange:function(e){var a=e.target.value,n=[];switch(Me){case"user_name":n=t.filter((function(e){return!!e.user_name.includes(a)}));break;case"user_univ_id":n=t.filter((function(e){return!!e.user_univ_id.includes(a)}));break;case"user_major":n=t.filter((function(e){return!!e.user_major.includes(a)}));break;case"admin_id":n=t.filter((function(e){return!!e.admin_id.includes(a)}));break;case"admin_dept":n=t.filter((function(e){return!!e.admin_dept.includes(a)}));break;case"ip_addr":n=t.filter((function(e){return!!e.ip_addr.includes(a)}));break;default:N(!1),n=t}return h(n),void N(!0)}}),c.a.createElement(P.a,{className:xe.formControl},c.a.createElement(Y.a,{id:"demo-simple-select-label"},"\uac80\uc0c9\uc870\uac74"),c.a.createElement(K.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:Me,onChange:function(e){Ae(e.target.value)}},c.a.createElement(B.a,{value:"user_name"},"\uc774\ub984"),c.a.createElement(B.a,{value:"user_univ_id"},"\ud559\ubc88"),c.a.createElement(B.a,{value:"user_major"},"\uc804\uacf5"),c.a.createElement(B.a,{value:"admin_id"},"\uc778\uc99d \uad00\ub9ac\uc790"),c.a.createElement(B.a,{value:"admin_dept"},"\uad00\ub9ac\uc790 \ubd80\uc11c"),c.a.createElement(B.a,{value:"ip_addr"},"\uc778\uc99d ip"))),ye?c.a.createElement(f.a,{id:"dept1",variant:"contained",color:"primary",onClick:function(){pe&&Ne&&(Q="",q="",clearInterval(H),qe(pe,Ne),H=setInterval((function(){qe(pe,Ne)}),3e3),Ce(!1))},className:"dept1"},"\uc804\uccb4\ubd80\uc11c\ub85c\uadf8"):c.a.createElement(f.a,{id:"dept1",variant:"contained",onClick:function(){console.log("1"),pe&&Ne&&(console.log("2"),Q="",q="",clearInterval(H),$e(pe,Ne),H=setInterval((function(){$e(pe,Ne)}),3e3),Ce(!0))},className:"dept1"},"\ud604\uc7ac\ubd80\uc11c\ub85c\uadf8")))),c.a.createElement("div",{className:"view_container_container"},c.a.createElement("div",{className:"view__container"},c.a.createElement("div",{className:"label"},"\ud604\uc7ac \uc0ac\uc6a9\uc790"),c.a.createElement(J,{turnOnExitTimeInput:Ke,noLabelTapped:Ve,infos:s}))),c.a.createElement("div",{className:"view_container_container"},c.a.createElement("div",{className:"view__container"},c.a.createElement("div",{className:"label"},"\uc804\uccb4 \uc0ac\uc6a9\uc790"),k?c.a.createElement(x,{selectInfoCell:Ye,turnOnExitTimeInput:Ke,noLabelTapped:Ve,infos:b}):c.a.createElement(x,{selectInfoCell:Ye,turnOnExitTimeInput:Ke,noLabelTapped:Ve,infos:t}),ee&&c.a.createElement(p,{title:I,message:z,callback:function(){ae(!1),Ge()}})))),c.a.createElement("button",{onClick:function(){_e(!0)},className:"excel_down_button"},"\uc5d1\uc140\ub2e4\uc6b4"),ve&&k&&c.a.createElement(M,{turnOffExcelDownView:Pe,datas:b}),ve&&!k&&c.a.createElement(M,{turnOffExcelDownView:Pe,datas:t}),We&&c.a.createElement(U,{unSelectInfoCell:function(){ze(void 0)},info:We,changeAggregateOfInfo:function(e){var a=t.map((function(a){return a.access_id===e?(a.disabled_aggregate=!a.disabled_aggregate,a):a}));l(a)}}),oe&&c.a.createElement(D,{turnOfExitTimeInput:function(){ue(!1)},handleExitTimeString:function(e){ge(e.target.value)},exitTimeString:de}));function Ye(e){ze(e)}function Be(e,a){clearInterval(H),qe(e,a),H=setInterval((function(){qe(e,a)}),3e3)}function Pe(){_e(!1)}function Ke(e){ue(!0),ge(e)}function Re(e,a){return e.access_id<a.access_id?-1:e.access_id>a.access_id?1:0}function Je(e,a){return e.access_id<a.access_id?1:e.access_id>a.access_id?-1:0}function Ve(){var e=ce?t.sort(Je):t.sort(Re);le(!ce),h(e)}function He(){var e=new Date,a=new Date,t="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate());m.a.get("".concat(d,"msc/log?date_from=").concat(t,"&date_to=").concat(n,"&dept_view=1"),{headers:{Authorization:localStorage.getItem("token"),"If-None-Match":G}}).then((function(e){if(200===e.status){var a=e.headers.etag;G=a;var t=e.data.data.data;t=(t=t.reverse()).filter((function(e){return!e.disabled_aggregate}));for(var n=[],c=[],l=[],r=0;r<t.length;r++){var i=t[r];0==l.includes(i.user_univ_id)&&l.push(i.user_univ_id)}for(var o=function(e){var a=l[e],c=0;t.map((function(e){e.user_univ_id==a&&c++})),c%2==1&&n.push(a)},u=0;u<l.length;u++)o(u);console.log("current user ids: ",n);for(var s=0;s<n.length;s++)for(var m=n[s],d=0;d<t.length;d++){var g=t[d];if(g.user_univ_id==m){c.push(g);break}}E(c)}else console.log(e),y("\uc131\uc11c\ubd07\uc785\ub2c8\ub2e4"),R("\uc5d0\ub7ec \ubc1c\uc0dd \ubd80\ubd84 \ucc98\ub9ac\uc911"),ae(!0)})).catch((function(e){}))}function $e(e,a){var t="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate());console.log("3"),m.a.get("".concat(d,"msc/log?date_from=").concat(t,"&date_to=").concat(n,"&dept_view=1"),{headers:{Authorization:localStorage.getItem("token"),"If-None-Match":Q}}).then((function(e){var a=e.data.data.data;a.sort(Je);var t=e.headers.etag;Q=t,l(a)})).catch((function(e){}))}function qe(e,a){var t="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate());m.a.get("".concat(d,"msc/log?date_from=").concat(t,"&date_to=").concat(n),{headers:{Authorization:localStorage.getItem("token"),"If-None-Match":q}}).then((function(e){if(200===e.status){var a=e.data.data.data;a.sort(Je);var t=e.headers.etag;q=t,l(a)}else{if(304===e.status)return;y("\uc131\uc11c\ubd07\uc785\ub2c8\ub2e4"),R("\uc5d0\ub7ec \ubc1c\uc0dd \ubd80\ubd84 \ucc98\ub9ac\uc911"),ae(!0)}})).catch((function(e){console.log("\uce90\uc2f1")}))}function Ge(){localStorage.removeItem("token"),localStorage.removeItem("i"),localStorage.removeItem("p"),window.location.href="/"}},ee=(t(247),t(379)),ae=Object(O.a)((function(e){return Object(z.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})})),te=function(){var e=ae(),a=Object(n.useState)(""),t=Object(u.a)(a,2),l=t[0],r=t[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),E=s[0],v=s[1],_=c.a.useState(""),b=Object(u.a)(_,2),h=b[0],p=b[1],O=c.a.useState(new Date),j=Object(u.a)(O,2),k=j[0],N=j[1],w=function(e){N(e)};return c.a.createElement("div",{className:"private__main__container"},c.a.createElement("div",{className:"navigation__bar"},c.a.createElement(i.b,{to:"/",style:{textDecoration:"none",color:"black"}},c.a.createElement("div",{className:"button"},"\uc870\ud68c")),c.a.createElement(i.b,{to:"/aggregate",style:{textDecoration:"none",color:"black"}},c.a.createElement("div",{className:"button"},"\uc9d1\uacc4")),c.a.createElement("div",{className:"button active"},"\ucd94\uac00"),c.a.createElement("button",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("i"),localStorage.removeItem("p"),window.location.href="/"}},"\ub85c\uadf8\uc544\uc6c3")),c.a.createElement("div",{className:"post__container"},c.a.createElement("div",{className:"post__form"},c.a.createElement(g.a,{value:l,onChange:function(e){r(e.target.value)},id:"standard-basic",label:"\uc774\ub984"}),c.a.createElement(g.a,{value:E,onChange:function(e){v(e.target.value)},id:"standard-basic",label:"\ud559\ubc88"}),c.a.createElement(P.a,{className:e.formControl},c.a.createElement(Y.a,{id:"demo-simple-select-label"},"\ud559\uacfc"),c.a.createElement(K.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",className:"select",value:h,onChange:function(e){p(e.target.value)}},c.a.createElement(B.a,{value:"\ucef4\ud4e8\ud130\uc18c\ud504\ud2b8\uc6e8\uc5b4\ud559\uacfc"},"\ucef4\ud4e8\ud130\uc18c\ud504\ud2b8\uc6e8\uc5b4\ud559\uacfc"),c.a.createElement(B.a,{value:"\uc601\uc720\uc544\ubcf4\uc721\ud559\uacfc"},"\uc601\uc720\uc544\ubcf4\uc721\ud559\uacfc"),c.a.createElement(B.a,{value:"\uc0ac\ud68c\ubcf5\uc9c0\ud559\uacfc"},"\uc0ac\ud68c\ubcf5\uc9c0\ud559\uacfc"),c.a.createElement(B.a,{value:"\uc131\uc11c\ud559\uacfc"},"\uc131\uc11c\ud559\uacfc"),c.a.createElement(B.a,{value:"\uac04\ud638\ud559\uacfc"},"\uac04\ud638\ud559\uacfc"))),c.a.createElement(F.a,{utils:L.a},c.a.createElement(A.a,{container:!0,justify:"center"},c.a.createElement(W.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"\ub0a0\uc9dc\ub97c \uc9c0\uc815\ud574\uc8fc\uc138\uc694",value:k,onChange:w,KeyboardButtonProps:{"aria-label":"change date"}}),c.a.createElement(ee.a,{margin:"normal",id:"time-picker",label:"\uc2dc\uac01\uc744 \uc9c0\uc815\ud574\uc8fc\uc138\uc694",value:k,onChange:w,KeyboardButtonProps:{"aria-label":"change time"}}))),c.a.createElement(f.a,{onClick:function(){if(!1===/20[12]\d0\d{4}/i.test(E))return void alert("\ud559\ubc88\uc744 \uc81c\ub300\ub85c \uae30\uc785\ud574\uc8fc\uc138\uc694");if(""===h)return void alert("\ud559\uacfc\ub97c \uc81c\ub300\ub85c \uae30\uc785\ud574\uc8fc\uc138\uc694");var e=localStorage.getItem("token"),a="".concat(null===k||void 0===k?void 0:k.getFullYear(),"-").concat(k.getMonth()+1,"-").concat(null===k||void 0===k?void 0:k.getDate()," ").concat(null===k||void 0===k?void 0:k.getHours(),":").concat(null===k||void 0===k?void 0:k.getMinutes(),":").concat(null===k||void 0===k?void 0:k.getSeconds());m.a.post("".concat(d,"msc/log"),{user_name:l,user_univ_id:E,user_major:h,access_datetime:a},{headers:{Authorization:e}}).then((function(e){200===e.status?(console.log(e),r(""),v(""),p(""),alert("\ub370\uc774\ud130 \uc785\ub825 \uc131\uacf5")):alert("\ub370\uc774\ud130 \uc785\ub825 \uc2e4\ud328")})).catch((function(e){console.log(e)}))},variant:"contained",color:"primary"},"\uc81c\ucd9c"))))};function ne(){var e=localStorage.getItem("i"),a=localStorage.getItem("p");e&&a&&m.a.post("".concat(d,"auth/admin-login"),{id:e,pw:a}).then((function(t){if(200===t.status){localStorage.setItem("i",e),localStorage.setItem("p",a);var n=t.headers.authorization;n?localStorage.setItem("token",n):alert("\uc798\ubabb\ub41c \uacc4\uc815 \uc815\ubcf4")}})).catch((function(e){console.error(e),alert(e)}))}t(248);var ce=t(160);function le(e){var a=ce(e);return a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace("minute","\ubd84")).replace("minutes","\ubd84")).replace("seconds","\ucd08")).replace("second","\ucd08")).replace("hour","\uc2dc\uac04")).replace("hours","\uc2dc\uac04")).replace("day","\uc77c")).replace("days","\uc77c")).replace("week","\uc8fc")).replace("weeks","\uc8fc")).replace("month","\ub2ec")).replace("months","\ub2ec")).replace("year","\ub144")).replace("years","\ub144")).replace("s","")).replace(",","")).replace(",","")}t(160);var re=Object(O.a)({table:{minWidth:650}}),ie=function(e){var a=e.aggregates,t=e.selectAggregate,n=re();return c.a.createElement(w.a,{component:y.a},c.a.createElement(j.a,{className:n.table,"aria-label":"simple table"},c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement(N.a,null,"\ubc88\ud638"),c.a.createElement(N.a,{align:"right"},"\ud559\ubc88"),c.a.createElement(N.a,{align:"right"},"\ucd1d \uc9d1\uacc4 \uc2dc\uac04"),c.a.createElement(N.a,{align:"right"},"\uc2dc\uc791"),c.a.createElement(N.a,{align:"right"},"\uc885\ub8cc"))),c.a.createElement(k.a,null,a.map((function(e,n){return console.log("row: ",e),c.a.createElement(I.a,{onClick:function(){t(a[n])},key:n},c.a.createElement(N.a,{component:"th",scope:"row"},n+1),c.a.createElement(N.a,{align:"right"},e.univ_id),c.a.createElement(N.a,{align:"right"},le(1e3*e.value.total_seconds)),c.a.createElement(N.a,{align:"right"},e.value.detail[0]?e.value.detail[0].from:"\ub370\uc774\ud130 \uc5c6\uc74c"),c.a.createElement(N.a,{align:"right"},e.value.detail[e.value.detail.length-1]?e.value.detail[e.value.detail.length-1].to:"\ub370\uc774\ud130 \uc5c6\uc74c"))})))))},oe=Object(O.a)({table:{minWidth:650}});var ue=function(e){var a=e.aggregate,t=e.deselectAggregate,l=oe(),r=Object(n.useRef)(null);return function(e,a){Object(n.useEffect)((function(){function t(t){e.current&&!e.current.contains(t.target)&&a()}return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[e])}(r,t),c.a.createElement("div",{className:"aggregate_detail_container"},c.a.createElement("div",{className:"container",ref:r},c.a.createElement("div",{className:"top"},c.a.createElement(w.a,{component:y.a},c.a.createElement(j.a,{className:l.table,"aria-label":"simple table"},c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement(N.a,null,"\ud559\ubc88"),c.a.createElement(N.a,{align:"right"},"\ucd1d \uc9d1\uacc4 \uc2dc\uac04"),c.a.createElement(N.a,{align:"right"},"\uc2dc\uc791"),c.a.createElement(N.a,{align:"right"},"\uc885\ub8cc"))),c.a.createElement(k.a,null,c.a.createElement(I.a,{key:a.univ_id},c.a.createElement(N.a,{component:"th",scope:"row"},a.univ_id),c.a.createElement(N.a,{align:"right"},le(1e3*a.value.total_seconds)),c.a.createElement(N.a,{align:"right"},a.value.detail[0]?a.value.detail[0].from:"\ub370\uc774\ud130 \uc5c6\uc74c"),c.a.createElement(N.a,{align:"right"},a.value.detail[a.value.detail.length-1]?a.value.detail[a.value.detail.length-1].to:"\ub370\uc774\ud130 \uc5c6\uc74c")))))),c.a.createElement("div",{className:"bottom"},c.a.createElement(w.a,{component:y.a},c.a.createElement(j.a,{className:l.table,"aria-label":"simple table"},c.a.createElement(S.a,null,c.a.createElement(I.a,null,c.a.createElement(N.a,null,"\ubc88\ud638"),c.a.createElement(N.a,{align:"right"},"\ud559\ubc88"),c.a.createElement(N.a,{align:"right"},"\uc785\uc2e4"),c.a.createElement(N.a,{align:"right"},"\ud1f4\uc2e4"),c.a.createElement(N.a,{align:"right"},"\uc9d1\uacc4 \uc2dc\uac04"))),c.a.createElement(k.a,null,a.value.detail.map((function(e,t){return c.a.createElement(I.a,{key:a.univ_id},c.a.createElement(N.a,{component:"th",scope:"row"},t+1),c.a.createElement(N.a,{align:"right"},a.univ_id),c.a.createElement(N.a,{align:"right"},e.from),c.a.createElement(N.a,{align:"right"},e.to),c.a.createElement(N.a,{align:"right"},le(e.seconds)))}))))))))};var se,me=function(e){var a=e.turnOfExcelDown,t=e.aggregates,l=c.a.useRef(null);!function(e,a){function t(t){e.current&&!e.current.contains(t.target)&&a()}c.a.useEffect((function(){return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}))}(l,a);var r=Object(n.useState)([]),i=Object(u.a)(r,2),o=i[0],s=i[1];Object(n.useEffect)((function(){var e=t.map((function(e,a){var n=e.univ_id,c=e.value.total_seconds,l=e.value.detail[0]?e.value.detail[0].from:"\ub370\uc774\ud130 \uc5c6\uc74c",r=e.value.detail[t.length-1]?e.value.detail[t.length-1].to:"\ub370\uc774\ud130 \uc5c6\uc74c";return{no:"\ufeff".concat(a+1),univ_id:"\ufeff".concat(n),total_seconds:"\ufeff".concat(c),start:"\ufeff".concat(l),end:"\ufeff".concat(r)}}));s(e)}),[]);return c.a.createElement("div",{className:"excel__down"},c.a.createElement("div",{ref:l,className:"card"},0!=o.length&&c.a.createElement(T.JsonToExcel,{data:o,filename:"aggregate-excel",fields:{no:"\ufeffNo",univ_id:"\ud559\ubc88",total_seconds:"\ucd1d \uc9d1\uacc4 \uc2dc\uac04",start:"\uc2dc\uc791",end:"\uc885\ub8cc"}})))},de=Object(O.a)((function(e){return Object(z.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})})),ge=function(){var e=c.a.useState(new Date),a=Object(u.a)(e,2),t=a[0],l=a[1],r=c.a.useState(new Date),o=Object(u.a)(r,2),s=o[0],E=o[1],v=Object(n.useState)([]),_=Object(u.a)(v,2),b=_[0],h=_[1],p=Object(n.useState)([]),O=Object(u.a)(p,2),j=O[0],k=O[1],N=Object(n.useState)(!1),w=Object(u.a)(N,2),S=w[0],I=w[1],y=Object(n.useState)(),C=Object(u.a)(y,2),x=C[0],D=C[1],T=Object(n.useState)(!1),M=Object(u.a)(T,2),z=M[0],R=M[1],J=c.a.useState("user_univ_id"),V=Object(u.a)(J,2),H=V[0],$=V[1],q=c.a.useState(""),G=Object(u.a)(q,2),Q=G[0],U=G[1],X=c.a.useState(!1),Z=Object(u.a)(X,2),ee=Z[0],ae=Z[1],te=de();return Object(n.useEffect)((function(){t&&s&&le(t,s)}),[]),c.a.createElement("div",{className:"aggregate__container"},c.a.createElement("div",{className:"navigation__bar"},c.a.createElement(i.b,{to:"/",style:{textDecoration:"none",color:"black"}},c.a.createElement("div",{className:"button"},"\uc870\ud68c")),c.a.createElement("div",{className:"button active"},"\uc9d1\uacc4"),c.a.createElement(i.b,{to:"/post",style:{textDecoration:"none",color:"black"}},c.a.createElement("div",{className:"button"},"\ucd94\uac00")),c.a.createElement("button",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("i"),localStorage.removeItem("p"),window.location.href="/"}},"\ub85c\uadf8\uc544\uc6c3")),c.a.createElement("div",{className:"date_picker_view__aggregate_table_container__container"},c.a.createElement("div",{className:"date_picker_Container"},c.a.createElement(F.a,{utils:L.a},c.a.createElement(A.a,{alignItems:"flex-end",container:!0,justify:"space-around"},c.a.createElement(W.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"\uac80\uc0c9 \uc2dc\uc791\uc77c",value:t,onChange:function(e){l(e),e&&s&&(ee?ne(e,s):le(e,s))},KeyboardButtonProps:{"aria-label":"change date"}}),c.a.createElement(W.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"\uac80\uc0c9 \ub9c8\uc9c0\ub9c9\uc77c",value:s,onChange:function(e){E(e),e&&t&&(ee?ne(t,e):le(t,e))},KeyboardButtonProps:{"aria-label":"change date"}}),c.a.createElement("div",{className:"padding"}),c.a.createElement(g.a,{id:"standard-basic",className:"standard-basic",label:"\uac80\uc0c9",value:Q,onChange:function(e){U(e.target.value);var a=e.target.value;if(""!==a){if("user_univ_id"===H){var t=b.filter((function(e){return!!e.univ_id.includes(a)}));k(t),I(!0)}}else I(!1)},variant:"standard"}),c.a.createElement(P.a,{className:te.formControl},c.a.createElement(Y.a,{id:"demo-simple-select-label"},"\uac80\uc0c9\uc870\uac74"),c.a.createElement(K.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:H,onChange:function(e){$(e.target.value)}},c.a.createElement(B.a,{value:"user_univ_id"},"\ud559\ubc88"))),c.a.createElement("div",{className:"padding"}),ee?c.a.createElement(f.a,{id:"dept1",color:"primary",variant:"contained",className:"dept1",onClick:function(){t&&s&&le(t,s)}},"\uc804\uccb4\ubd80\uc11c\ub85c\uadf8"):c.a.createElement(f.a,{id:"dept1",variant:"contained",className:"dept1",onClick:function(){t&&s&&ne(t,s)}},"\ud604\uc7ac\ubd80\uc11c\ub85c\uadf8")))),c.a.createElement("div",{className:"aggregate_table_container"},S?c.a.createElement(ie,{selectAggregate:ce,aggregates:j}):c.a.createElement(ie,{selectAggregate:ce,aggregates:b}))),c.a.createElement("button",{onClick:function(){R(!0)},className:"excel_down_button"},"\uc5d1\uc140 \ub2e4\uc6b4\ub85c\ub4dc"),x&&c.a.createElement(ue,{deselectAggregate:function(){D(void 0)},aggregate:x}),z&&c.a.createElement(me,{aggregates:b,turnOfExcelDown:function(){R(!1)}}));function ne(e,a){console.log("fetch aggregate"),ae(!0);var t="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate());m.a.get("".concat(d,"msc/log?date_from=").concat(t,"&date_to=").concat(n,"&dept_view=1"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){if(200===e.status){var a=e.data.data.data;console.log(a),m.a.post("".concat(d,"msc/aggregate"),{data:a}).then((function(e){var a=e.data.data;console.log(e);var t=[];for(var n in a){var c={univ_id:n,value:a[n]};t.push(c)}h(t)})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))}function ce(e){D(e)}function le(e,a){ae(!1);var t="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate());m.a.get("".concat(d,"msc/log?date_from=").concat(t,"&date_to=").concat(n),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){if(200===e.status){var a=e.data.data.data;console.log(a),m.a.post("".concat(d,"msc/aggregate"),{data:a}).then((function(e){var a=e.data.data,t=[];for(var n in console.log(e),a){var c={univ_id:n,value:a[n]};t.push(c)}h(t)})).catch((function(e){console.log(e)}))}})).catch((function(e){console.log(e)}))}};function fe(){return Object(n.useEffect)((function(){return ne(),se=setInterval((function(){ne()}),6e5),function(){clearInterval(se)}}),[]),c.a.createElement(i.a,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/"},c.a.createElement(Z,null)),c.a.createElement(o.a,{path:"/post"},c.a.createElement(te,null)),c.a.createElement(o.a,{path:"/aggregate"},c.a.createElement(ge,null)),c.a.createElement(o.a,null,c.a.createElement(Z,null))))}t(249);var Ee=t(202),ve=(new(t.n(Ee).a)("asdasd"),function(){var e=Object(n.useState)(""),a=Object(u.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),o=i[0],s=i[1];return c.a.createElement("div",{className:"public__login__container"},c.a.createElement("div",{className:"height__200"}),c.a.createElement("div",{className:"login_form_container"},c.a.createElement(g.a,{onChange:function(e){var a=e.target.value;l(a)},fullWidth:!0,value:t,label:"\uc544\uc774\ub514"}),c.a.createElement(g.a,{onChange:function(e){var a=e.target.value;s(a)},fullWidth:!0,value:o,type:"password",label:"\ud328\uc2a4\uc6cc\ub4dc"}),c.a.createElement(f.a,{onClick:function(){m.a.post("".concat(d,"auth/admin-login"),{id:t,pw:o}).then((function(e){if(200===e.status){localStorage.setItem("i",t),localStorage.setItem("p",o);var a=e.headers.authorization;a?(localStorage.setItem("token",a),window.location.href="/"):alert("\uc798\ubabb\ub41c \uacc4\uc815 \uc815\ubcf4")}})).catch((function(e){console.error(e),alert(e)}))},className:"button",variant:"contained",color:"primary"},"\ub85c\uadf8\uc778")))});function _e(){return c.a.createElement(i.a,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/"},c.a.createElement(ve,null)),c.a.createElement(o.a,null,c.a.createElement(ve,null))))}var be=function(){return localStorage.getItem("token")?c.a.createElement(fe,null):c.a.createElement(_e,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[212,1,2]]]);
//# sourceMappingURL=main.aacd2849.chunk.js.map